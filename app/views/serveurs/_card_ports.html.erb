<% port_quantity.to_i.times do |index| %>

  <% port_data = ports_data.where(position: index+1).first %>

  <% case port_type
       when PortType.find_by_name('RJ') %>

    <i class="port portRJ <%= port_data.present? ? port_data.color : ''%>"
       data-position="<%= index+1 %>"
       data-type="RJ"
       data-toggle="tooltip" data-placement="bottom" title="<%= port_data.present? ? port_data.vlans : '' %>">
    </i>

  <% when PortType.find_by_name('FC') %>

    <i class="port portFC <%= port_data.present? ? port_data.color : ''%>"
       data-position="<%= index+1 %>"
       data-type="FC"
       data-toggle="tooltip" data-placement="bottom" title="<%= port_data.present? ? port_data.vlans : '' %>">
    </i>

  <% else %>

    <i class="port portSCSI <%= port_data.present? ? port_data.color : ''%>"
       data-position="<%= index+1 %>"
       data-type="<%= port_type.try(:name) %>"
       data-toggle="tooltip" data-placement="bottom" title="<%= port_data.present? ? port_data.vlans : '' %>">
      <%= port_type.try(:name) %>
    </i>

  <% end %>

  <%= '<br>'.html_safe unless alignment == 'horizontal' %>
<% end %>
